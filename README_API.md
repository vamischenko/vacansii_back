# API –°–µ—Ä–≤–∏—Å–∞ –í–∞–∫–∞–Ω—Å–∏–π

Backend-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ –Ω–∞ –±–∞–∑–µ Yii2.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.0 –∏–ª–∏ –≤—ã—à–µ
- MySQL 5.7+ –∏–ª–∏ PostgreSQL 9.5+
- Composer
- Apache/Nginx —Å mod_rewrite

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
composer install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `config/db.php` –∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:

```php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=vakansii_db',
    'username' => 'root',
    'password' => 'your_password',
    'charset' => 'utf8mb4',
];
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

```bash
mysql -u root -p -e "CREATE DATABASE vakansii_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
```

–ò–ª–∏ –¥–ª—è PostgreSQL:

```bash
psql -U postgres -c "CREATE DATABASE vakansii_db ENCODING 'UTF8';"
```

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
./yii migrate
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

#### Apache

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DocumentRoot —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `web/`:

```apache
<VirtualHost *:80>
    ServerName vakansii-api.local
    DocumentRoot /path/to/vakansii-back/web

    <Directory /path/to/vakansii-back/web>
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>
```

#### Nginx

```nginx
server {
    listen 80;
    server_name vakansii-api.local;
    root /path/to/vakansii-back/web;
    index index.php;

    location / {
        try_files $uri $uri/ /index.php?$args;
    }

    location ~ \.php$ {
        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_pass 127.0.0.1:9000;
        try_files $uri =404;
    }
}
```

### 6. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
chmod -R 777 runtime web/assets
```

## API Endpoints

### 1. –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π üîç

**GET** `/vacancy/search`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–π –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é –≤–∞–∫–∞–Ω—Å–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FULLTEXT –∏–Ω–¥–µ–∫—Å–æ–≤ (10-100x –±—ã—Å—Ç—Ä–µ–µ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `q` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**) - –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (1-255 —Å–∏–º–≤–æ–ª–æ–≤)
- `page` (integer, optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (1-10000, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `sort` (string, optional) - —Ç–∏–ø —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:
  - `relevance` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - `asc` - –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (—Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–µ)
  - `desc` - –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /vacancy/search?q=PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫&page=1&sort=relevance
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
    "data": [
        {
            "id": 1,
            "title": "Senior PHP Developer",
            "salary": 200000,
            "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≥–ª—É–±–æ–∫–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤"
        },
        {
            "id": 5,
            "title": "Backend PHP Developer",
            "salary": 150000,
            "description": "–ò—â–µ–º PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏"
        }
    ],
    "pagination": {
        "total": 12,
        "page": 1,
        "pageSize": 10,
        "pageCount": 2
    },
    "query": "PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏ (–ø—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å):**
```json
{
    "success": false,
    "message": "–ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º"
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL (tsvector —Å —Ä—É—Å—Å–∫–æ–π –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–µ–π) –∏ MySQL (FULLTEXT)
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π

**GET** `/vacancy`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `page` (integer, optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `sort` (string, optional) - –ø–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: `salary` –∏–ª–∏ `created_at` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `created_at`)
- `order` (string, optional) - –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: `asc` –∏–ª–∏ `desc` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `desc`)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /vacancy?page=1&sort=salary&order=desc
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
    "data": [
        {
            "id": 1,
            "title": "PHP Developer",
            "salary": 150000,
            "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"
        },
        {
            "id": 2,
            "title": "Frontend Developer",
            "salary": 120000,
            "description": "–ò—â–µ–º frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞"
        }
    ],
    "pagination": {
        "total": 25,
        "page": 1,
        "pageSize": 10,
        "pageCount": 3
    }
}
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏

**GET** `/vacancy/{id}`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `fields` (string, optional) - —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –¥–ª—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: `title`, `description`, `salary`, `additional_fields`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞:**
```bash
GET /vacancy/1
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
    "id": 1,
    "title": "PHP Developer",
    "salary": 150000,
    "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "additional_fields": {
        "company": "Tech Corp",
        "location": "–ú–æ—Å–∫–≤–∞"
    }
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ–ª–µ–π:**
```bash
GET /vacancy/1?fields=title,salary
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
    "id": 1,
    "title": "PHP Developer",
    "salary": 150000
}
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏

**POST** `/vacancy`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
    "title": "PHP Developer",
    "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã –æ—Ç 3 –ª–µ—Ç",
    "salary": 150000,
    "additional_fields": {
        "company": "Tech Corp",
        "location": "–ú–æ—Å–∫–≤–∞",
        "employment_type": "full-time"
    }
}
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```json
{
    "success": true,
    "id": 1,
    "message": "–í–∞–∫–∞–Ω—Å–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —Å –æ—à–∏–±–∫–æ–π:**
```json
{
    "success": false,
    "errors": {
        "title": ["–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º."],
        "salary": ["–ó–∞—Ä–ø–ª–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º."]
    },
    "message": "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∞–∫–∞–Ω—Å–∏–∏"
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `vacancy`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INT | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (AUTO_INCREMENT) |
| title | VARCHAR(255) | –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ) |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ) |
| salary | INT | –ó–∞—Ä–ø–ª–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ) |
| additional_fields | JSON | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ) |
| search_vector | TSVECTOR | –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å (PostgreSQL) |
| created_at | INT | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è (UNIX timestamp) |
| updated_at | INT | –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (UNIX timestamp) |

**–ò–Ω–¥–µ–∫—Å—ã:**
- PRIMARY KEY –Ω–∞ `id`
- GIN INDEX –Ω–∞ `search_vector` (PostgreSQL) –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- FULLTEXT INDEX –Ω–∞ `title, description` (MySQL) –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### cURL

**–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π:**
```bash
# –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫
curl -X GET "http://localhost/vacancy/search?q=PHP"

# –ü–æ–∏—Å–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–ª–æ–≤–∞–º
curl -X GET "http://localhost/vacancy/search?q=PHP%20—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"

# –ü–æ–∏—Å–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
curl -X GET "http://localhost/vacancy/search?q=developer&page=2&sort=relevance"
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π:**
```bash
curl -X GET "http://localhost/vacancy?page=1&sort=salary&order=desc"
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏:**
```bash
curl -X GET "http://localhost/vacancy/1"
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏:**
```bash
curl -X GET "http://localhost/vacancy/1?fields=title,salary"
```

**–°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏:**
```bash
curl -X POST "http://localhost/vacancy" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "PHP Developer",
    "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "salary": 150000,
    "additional_fields": {
      "company": "Tech Corp",
      "location": "–ú–æ—Å–∫–≤–∞"
    }
  }'
```

### JavaScript (Fetch API)

**–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π:**
```javascript
// –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫
const searchVacancies = async (query) => {
  const response = await fetch(`http://localhost/vacancy/search?q=${encodeURIComponent(query)}`);
  const data = await response.json();
  return data;
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const results = await searchVacancies('PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫');
console.log(results.data); // –ú–∞—Å—Å–∏–≤ –≤–∞–∫–∞–Ω—Å–∏–π
console.log(results.pagination.total); // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π:**
```javascript
fetch('http://localhost/vacancy?page=1&sort=salary&order=desc')
  .then(response => response.json())
  .then(data => console.log(data));
```

**–°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏:**
```javascript
fetch('http://localhost/vacancy', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    title: 'PHP Developer',
    description: '–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π PHP —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫',
    salary: 150000,
    additional_fields: {
      company: 'Tech Corp',
      location: '–ú–æ—Å–∫–≤–∞'
    }
  })
})
  .then(response => response.json())
  .then(data => console.log(data));
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- **10-100x –±—ã—Å—Ç—Ä–µ–µ** –æ–±—ã—á–Ω–æ–≥–æ LIKE –ø–æ–∏—Å–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è FULLTEXT –∏–Ω–¥–µ–∫—Å–∞–º
- PostgreSQL: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç tsvector —Å —Ä—É—Å—Å–∫–æ–π –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–µ–π –∏ ts_rank –¥–ª—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
- MySQL: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FULLTEXT –∏–Ω–¥–µ–∫—Å —Å MATCH...AGAINST
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –Ω–∞ **5 –º–∏–Ω—É—Ç**

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ **5-10 –º–∏–Ω—É—Ç**
- –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### Benchmarks –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞

| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π | LIKE –ø–æ–∏—Å–∫ | FULLTEXT –ø–æ–∏—Å–∫ | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|-------------------|------------|----------------|-----------|
| 100 –≤–∞–∫–∞–Ω—Å–∏–π | ~50-100ms | ~5-10ms | **10x** |
| 1000 –≤–∞–∫–∞–Ω—Å–∏–π | ~200-500ms | ~10-20ms | **10-25x** |
| 10000 –≤–∞–∫–∞–Ω—Å–∏–π | ~1000-3000ms | ~20-50ms | **20-150x** |
| –° –∫–µ—à–µ–º | - | ~1-5ms | **200-600x** |

## Rate Limiting

API –∑–∞—â–∏—â–µ–Ω —Å–∏—Å—Ç–µ–º–æ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:

- **–õ–∏–º–∏—Ç:** 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –Ω–∞ IP-–∞–¥—Ä–µ—Å
- **–û—Ç–≤–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞:** HTTP 429 (Too Many Requests)
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞:**
  - `X-Rate-Limit-Limit` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
  - `X-Rate-Limit-Remaining` - –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
  - `X-Rate-Limit-Reset` - –≤—Ä–µ–º—è —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–∞ (UNIX timestamp)

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞:**
```json
{
    "success": false,
    "message": "Rate limit exceeded. Try again later.",
    "retry_after": 3600
}
```

## CORS

CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –ª—é–±—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å frontend.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã (unit, functional, API)
vendor/bin/codecept run

# –¢–æ–ª—å–∫–æ API —Ç–µ—Å—Ç—ã
vendor/bin/codecept run api

# –¢–µ—Å—Ç—ã –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
vendor/bin/codecept run api SearchCest

# –¢–µ—Å—Ç—ã rate limiting
vendor/bin/codecept run api RateLimitingCest

# –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
vendor/bin/codecept run --debug
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- **Swagger UI:** `http://localhost:8080/swagger-ui.html` - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **ReDoc:** `http://localhost:8080/redoc.html` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- Postman
- Insomnia
- cURL
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±—Ä–∞—É–∑–µ—Ä–∞

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config/db.php` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞.

### 404 Not Found
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- mod_rewrite –≤–∫–ª—é—á–µ–Ω (–¥–ª—è Apache)
- —Ñ–∞–π–ª `.htaccess` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `web/`
- Pretty URLs –≤–∫–ª—é—á–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 500 Internal Server Error
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `runtime/logs/`

### –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
–ï—Å–ª–∏ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã: `php yii migrate`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ FULLTEXT –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –î–ª—è PostgreSQL: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ `search_vector` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –î–ª—è MySQL: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ FULLTEXT –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –ø–æ–ª—è—Ö `title, description`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ª–µ–¥—É—é—â–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º:

- **[README.md](README.md)** - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **[QUICKSTART.md](QUICKSTART.md)** - –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É –∑–∞ 5 –º–∏–Ω—É—Ç
- **[FULLTEXT_SEARCH.md](FULLTEXT_SEARCH.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –ø–æ–∏—Å–∫—É
- **[ARCHITECTURE.md](ARCHITECTURE.md)** - –û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- **[PROJECT_INFO.md](PROJECT_INFO.md)** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **[HTTPS_SETUP.md](HTTPS_SETUP.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS/SSL
- **[SETUP_GUIDE.md](SETUP_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ (HTTPS, CI/CD, Swagger)
- **[DOCKER.md](DOCKER.md)** - –ó–∞–ø—É—Å–∫ –≤ Docker
- **[Swagger UI](http://localhost:8080/swagger-ui.html)** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
